<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
        <h:outputStylesheet name="./css/materialize.css"/>

        <title>Facelets Template</title>


    </h:head>

    <h:body>
        <!--Import jQuery before materialize.js-->
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script> 
            $(window).scroll(                   
                    function(){
                        if($(window).scrollTop()>50){                            
                            $("#prueba").removeClass("navScroll2");
                            $("#prueba").addClass("navScroll");
                        }else{
                            $("#prueba").removeClass("navScroll");
                            $("#prueba").addClass("navScroll2");
                        }
                    }
                );
        </script>
        
        <ui:insert name="top">
            <h:form>
                <div class="navbar-fixed navScroll2" id="prueba">
                    <!-- Dropdown Structure -->
                    <ul id="dropdown1" class="dropdown-content">
                        <li>
                            <h:form id="form01" rendered="#{request.isUserInRole('user') or request.isUserInRole('admin')}">
                                <a href="#!"><i class="material-icons left">perm_identity</i>#{sessionBean.nombre}</a>
                            </h:form>
                        </li>
                        <li class="divider"></li>
                        <li><h:link value="Configuración" style="width: 200'px"></h:link></li>
                        <li>
                            <h:commandLink value="Cerrar sesión" actionListener="#{sessionBean.logout()}" rendered="#{request.isUserInRole('user') or request.isUserInRole('admin') or request.isUserInRole('community')}"></h:commandLink>
                        </li>

                    </ul>

                    <nav class="nav-extended">
                        <div class="nav-wrapper grey lighten-1" >
                            <h:link value="VideoGames" class="brand-logo" style="padding-left: 10px" outcome="index" />
                            <ul class="right hide-on-med-and-down">
                                <li><h:link value="Registrarse" outcome="registrarUsuario.xhtml" rendered="#{not request.isUserInRole('user') and not request.isUserInRole('admin')}"><i class="material-icons left">assignment_ind</i></h:link></li>
                                <li><h:link value="Iniciar sesión" outcome="login.xhtml" rendered="#{not request.isUserInRole('user') and not request.isUserInRole('admin')}"><i class="material-icons left">perm_identity</i></h:link></li>
                                <li>
                                    <h:outputLink rendered="#{request.isUserInRole('user') or request.isUserInRole('admin') or request.isUserInRole('community')}">
                                        <a class="dropdown-button" href="#!" data-activates="dropdown1"><i class="material-icons left">verified_user</i><i class="material-icons right">arrow_drop_down</i>#{sessionBean.nombre}</a>
                                    </h:outputLink>
                                </li> 
                            </ul>
                        </div>
                        <div style= "" class="nav-content grey lighten-2">
                            <ul class="tabs tabs-transparent">
                                <h:form>
                                    <ui:repeat value="#{menuNavPlataformBean.platformsNames}" var = "platform" varStatus="status">
                                        <ui:fragment rendered ="#{status.index eq 0}">
                                            <li class="tab"><a class ="active" href="#{platform}">#{platform}</a></li>
                                        </ui:fragment>
                                        <ui:fragment rendered ="#{status.index ne 0}">
                                            <li class="tab"><a href="#{platform}">#{platform}</a></li>
                                        </ui:fragment>
                                    </ui:repeat>
                                </h:form>
                            </ul>
                        </div>
                        <div class="nav-content grey lighten-2">
                            <ul class="tabs tabs-transparent">
                                <li class="tab"><a href="#{platform}">Juegos</a></li>
                                <li class="tab"><a href="#{platform}">Noticias</a></li>
                                <li class="tab"><a href="#{platform}">Videos</a></li>
                                <li class="tab"><a href="#{platform}">Imagenes</a></li>
                            </ul>
                        </div>

                    </nav>
                </div>

            </h:form>

            <!--<div class="nav-content">
                <ul class="tabs tabs-transparent">
                    <li class="tab"><a href="#">Noticias</a></li>
                    <li class="tab"><a href="registrarUsuario.xhtml">Videojuegos</a></li>
                </ul>
            </div>-->
        </ui:insert>




        <div style="margin-left: 5%; margin-top: 2%; margin-bottom: 3%">
            <ui:insert name="content">Content</ui:insert>
        </div>


        <ui:insert name="bottom">

            <footer class="page-footer grey lighten-1">
                <div class="container">
                    <div class="row">
                        <div class="col l6 s12">
                            <h5 class="white-text">Footer Content</h5>
                            <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
                        </div>
                        <div class="col l4 offset-l2 s12">
                            <h5 class="white-text">Links</h5>
                            <ul>
                                <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                                <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                                <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                                <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-copyright">
                    <div class="container">
                        © 2017 Aplicaciones Web
                        <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
                    </div>
                </div>
            </footer>
        </ui:insert>

        <!-- JavaScript -->
        <h:outputScript library="js" name="materialize.js" />

        <script>
            jQuery(document).ready(function ()
            {
                $(".dropdown-button").dropdown();
            });
        </script>

    </h:body>

</html>
